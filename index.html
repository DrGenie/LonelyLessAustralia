<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>LonelyLessAustralia Decision Aid Tool</title>
  <link rel="stylesheet" href="styles.css" />
  <!-- Chart.js for charts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- jsPDF for PDF generation -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
<div class="container">
  <header>
    <h1>LonelyLessAustralia Decision Aid Tool</h1>
  </header>

  <!-- TAB BUTTONS -->
  <div class="tabs">
    <button class="tablink active" onclick="openTab('introTab', this)">Introduction</button>
    <button class="tablink" onclick="openTab('inputsTab', this)">Inputs</button>
    <button class="tablink" onclick="openTab('scenariosTab', this)">Scenarios</button>
  </div>

  <!-- TAB CONTENT: INTRODUCTION -->
  <div id="introTab" class="tabcontent" style="display: block;">
    <div class="intro-box">
      <p>
        Loneliness affects over five million Australians, especially older adults, 
        imposing serious health, social, and economic burdens. This tool leverages 
        discrete choice experiment (DCE) results—along with cost-of-living adjustments 
        and scenario-based analyses—to demonstrate how programme attributes can influence 
        uptake decisions.
      </p>
      <p>
        Navigate with the tabs above:
      </p>
      <ul>
        <li><strong>Introduction</strong> – this overview.</li>
        <li><strong>Inputs</strong> – select your scenario attributes.</li>
        <li><strong>Scenarios</strong> – save multiple configurations, compare them, or generate PDF reports.</li>
      </ul>
      <p>
        Once you have set attributes under “Inputs,” you can view immediate results, 
        including predicted uptake probabilities (by loneliness category), cost-benefit 
        calculations, and willingness-to-pay (WTP) estimates. 
      </p>
    </div>
  </div>

  <!-- TAB CONTENT: INPUTS -->
  <div id="inputsTab" class="tabcontent">
    <h2>Programme Inputs</h2>
    <p>Configure your desired attributes, then click “Calculate & View Results” to open a detailed results window.</p>

    <form id="inputsForm" onsubmit="event.preventDefault();">
      <div class="form-grid">
        <!-- State & Cost-of-Living -->
        <div class="form-item">
          <label for="state_select">State:</label>
          <select id="state_select">
            <option value="">None</option>
            <option value="NSW">New South Wales (NSW)</option>
            <option value="VIC">Victoria (VIC)</option>
            <option value="QLD">Queensland (QLD)</option>
            <option value="WA">Western Australia (WA)</option>
            <option value="SA">South Australia (SA)</option>
            <option value="TAS">Tasmania (TAS)</option>
            <option value="ACT">Australian Capital Territory (ACT)</option>
            <option value="NT">Northern Territory (NT)</option>
          </select>
          <br/>
          <label for="adjustCosts">Adjust for Cost of Living?</label>
          <select id="adjustCosts">
            <option value="no">No</option>
            <option value="yes">Yes</option>
          </select>
        </div>

        <!-- Cost Slider -->
        <div class="form-item">
          <label for="costSlider">Cost per Session (AUD): <span id="costLabel">50</span></label>
          <input 
            type="range" 
            id="costSlider" 
            min="0" max="100" 
            step="1" value="50" 
            oninput="updateCostDisplay(this.value)" 
          />
        </div>

        <!-- Accessibility -->
        <div class="form-item">
          <label><input type="checkbox" id="localCheck" />Local Area (12 km)</label>
          <br/>
          <label><input type="checkbox" id="widerCheck" />Wider Community (50+ km)</label>
        </div>

        <!-- Frequency -->
        <div class="form-item">
          <label><input type="checkbox" id="weeklyCheck" />Weekly</label>
          <br/>
          <label><input type="checkbox" id="monthlyCheck" />Monthly</label>
        </div>

        <!-- Method -->
        <div class="form-item">
          <label><input type="checkbox" id="virtualCheck" />Virtual Only</label>
          <br/>
          <label><input type="checkbox" id="hybridCheck" />Hybrid (In-Person & Virtual)</label>
        </div>

        <!-- Duration -->
        <div class="form-item">
          <label><input type="checkbox" id="twoHCheck" />2-Hour Session</label>
          <br/>
          <label><input type="checkbox" id="fourHCheck" />4-Hour Session</label>
        </div>

        <!-- Programme Type -->
        <div class="form-item">
          <label><input type="checkbox" id="commCheck" />Community Engagement</label>
          <br/>
          <label><input type="checkbox" id="psychCheck" />Psychological Counselling</label>
          <br/>
          <label><input type="checkbox" id="vrCheck" />Virtual Reality</label>
        </div>
      </div>

      <div class="buttons-row">
        <button type="button" onclick="openSingleScenario()">Calculate & View Results</button>
      </div>
    </form>
  </div>

  <!-- TAB CONTENT: SCENARIOS -->
  <div id="scenariosTab" class="tabcontent">
    <h2>Saved Scenarios</h2>
    <p>Click “Save Current Scenario” to store your inputs. Then click “Compare All Scenarios” to open them in a new window with PDFs and charts.</p>
    <div class="buttons-row">
      <button onclick="saveScenario()">Save Current Scenario</button>
      <button onclick="openComparison()">Compare All Scenarios</button>
    </div>
    <table id="scenarioTable">
      <thead>
        <tr>
          <th>Name</th>
          <th>State</th>
          <th>Cost Adjust?</th>
          <th>Cost (AUD)</th>
          <th>Local?</th>
          <th>Wider?</th>
          <th>Weekly?</th>
          <th>Monthly?</th>
          <th>Virtual?</th>
          <th>Hybrid?</th>
          <th>2H?</th>
          <th>4H?</th>
          <th>Comm?</th>
          <th>Psych?</th>
          <th>VR?</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <footer>
    <p>&copy; 2025 LonelyLessAustralia. All Rights Reserved.</p>
  </footer>
</div>
<script src="script.js"></script>
</body>
</html>
