<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>LonelyLessAustralia Decision Aid Tool</title>
  <link rel="stylesheet" href="styles.css" />
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- jsPDF for PDF generation -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
<div class="container">
  <header>
    <h1>LonelyLessAustralia Decision Aid Tool</h1>
  </header>

  <!-- Tab Buttons -->
  <div class="tabs">
    <button class="tablink active" onclick="openTab('introTab', this)">Introduction</button>
    <button class="tablink" onclick="openTab('attributesTab', this)">Attributes</button>
    <button class="tablink" onclick="openTab('inputsTab', this)">Inputs</button>
    <button class="tablink" onclick="openTab('wtpTab', this)">WTP Results</button>
    <button class="tablink" onclick="openTab('costsTab', this)">Costs & Benefits</button>
    <button class="tablink" onclick="openTab('scenariosTab', this)">Scenarios</button>
  </div>

  <!-- Introduction Tab -->
  <div id="introTab" class="tabcontent" style="display: block;">
    <div class="intro-box">
      <p>
        Loneliness affects over five million Australians, especially older adults, 
        resulting in significant health and economic burdens. This online decision 
        aid tool is developed from a discrete choice experiment that identified 
        older adults’ preferences for support programmes aimed at reducing loneliness 
        in Australia. Utilising these DCE insights, the tool predicts the probability 
        of uptake for various programme packages, guiding personalised services based 
        on key factors older adults consider when seeking support.
      </p>
      <p>
        The loneliness categories used in this study were derived from the 
        widely validated <em>De Jong Gierveld Loneliness Scale</em> (11-item version), 
        which measures both emotional and social loneliness. A total loneliness score 
        was calculated as the sum of emotional and social loneliness components. 
        Following the established methodology of the scale, scores were categorised 
        into three levels—Not Lonely, Moderately Lonely, and Severely Lonely—enabling 
        meaningful comparisons of preferences across varying degrees of loneliness.
      </p>
      <p>Use the tabs above to navigate:</p>
      <ul>
        <li><strong>Attributes</strong> – Provides descriptions of each DCE attribute.</li>
        <li><strong>Inputs</strong> – Select or configure your scenario attributes.</li>
        <li><strong>WTP Results</strong> – View willingness-to-pay estimates for 
          the main model and by loneliness category.</li>
        <li><strong>Costs & Benefits</strong> – Explore cost components and benefit 
          assumptions used in the analysis.</li>
        <li><strong>Scenarios</strong> – Save and compare multiple configurations, 
          generate PDF reports, and more.</li>
      </ul>
    </div>
  </div>

  <!-- Attributes Tab -->
  <div id="attributesTab" class="tabcontent">
    <h2>Programme Attributes</h2>
    <p><strong>Cost:</strong> The out-of-pocket cost participants pay each time they take part in the support programme.</p>
    <p><strong>Accessibility:</strong> The ease of attending the programme, considering travel distance and physical mobility.</p>
    <p><strong>Frequency of Interaction:</strong> How often individuals will participate (e.g., weekly, monthly, or daily reference).</p>
    <p><strong>Method of Interaction:</strong> How participants connect (in-person, virtual, or hybrid), crucial for those with mobility issues.</p>
    <p><strong>Duration of Each Interaction:</strong> The length of each session or activity (e.g., 30 minutes, 2 hours, 4 hours).</p>
    <p><strong>Type of Support Programme:</strong> The nature of engagement (peer support, community engagement, counselling, etc.).</p>
    <p>
      Cost-of-living multipliers may adjust the cost based on the selected state. 
      Proceed to <strong>Inputs</strong> to set these attributes and explore 
      predicted probabilities, cost-benefit analyses, and WTP.
    </p>
  </div>

  <!-- Inputs Tab -->
  <div id="inputsTab" class="tabcontent">
    <h2>Programme Inputs</h2>
    <p>Select the attributes for your scenario, then click “Calculate & View Results” to open a new window with predicted uptake probabilities, advanced cost-benefit charts, and more.</p>

    <form id="inputsForm" onsubmit="event.preventDefault();">
      <div class="form-grid">
        
        <!-- State & Cost-of-Living -->
        <div class="form-item">
          <label for="state_select">State:</label>
          <select id="state_select">
            <option value="">None</option>
            <option value="NSW">New South Wales (NSW)</option>
            <option value="VIC">Victoria (VIC)</option>
            <option value="QLD">Queensland (QLD)</option>
            <option value="WA">Western Australia (WA)</option>
            <option value="SA">South Australia (SA)</option>
            <option value="TAS">Tasmania (TAS)</option>
            <option value="ACT">Australian Capital Territory (ACT)</option>
            <option value="NT">Northern Territory (NT)</option>
          </select>
          <br/>
          <label for="adjustCosts">Adjust for Cost of Living?</label>
          <select id="adjustCosts">
            <option value="no">No</option>
            <option value="yes">Yes</option>
          </select>
        </div>

        <!-- Cost Slider -->
        <div class="form-item">
          <label for="costSlider">Cost per Session (AUD): <span id="costLabel">50</span></label>
          <input 
            type="range" 
            id="costSlider" 
            min="0" 
            max="100" 
            step="1" 
            value="50" 
            oninput="updateCostDisplay(this.value)" 
          />
        </div>

        <!-- Accessibility -->
        <div class="form-item">
          <label><input type="checkbox" id="localCheck" />Local Area (12 km)</label>
          <br/>
          <label><input type="checkbox" id="widerCheck" />Wider Community (50+ km)</label>
        </div>

        <!-- Frequency -->
        <div class="form-item">
          <label><input type="checkbox" id="weeklyCheck" />Weekly</label>
          <br/>
          <label><input type="checkbox" id="monthlyCheck" />Monthly</label>
        </div>

        <!-- Method -->
        <div class="form-item">
          <label><input type="checkbox" id="virtualCheck" />Virtual Only</label>
          <br/>
          <label><input type="checkbox" id="hybridCheck" />Hybrid (In-person & Virtual)</label>
        </div>

        <!-- Duration -->
        <div class="form-item">
          <label><input type="checkbox" id="twoHCheck" />2-Hour Session</label>
          <br/>
          <label><input type="checkbox" id="fourHCheck" />4-Hour Session</label>
        </div>

        <!-- Programme Type -->
        <div class="form-item">
          <label><input type="checkbox" id="commCheck" />Community Engagement</label>
          <br/>
          <label><input type="checkbox" id="psychCheck" />Psychological Counselling</label>
          <br/>
          <label><input type="checkbox" id="vrCheck" />Virtual Reality</label>
        </div>

      </div>
      <div class="buttons-row">
        <button type="button" onclick="openSingleScenario()">Calculate & View Results</button>
      </div>
    </form>
  </div>

  <!-- WTP Results Tab -->
  <div id="wtpTab" class="tabcontent">
    <h2>Willingness to Pay (WTP) Results</h2>
    <p>
      Below are the WTP estimates (in Australian dollars) from the Error-Component Logit Model for 
      both the <strong>Main Model</strong> and each loneliness category (<strong>Not Lonely</strong>, 
      <strong>Moderately Lonely</strong>, <strong>Severely Lonely</strong>).
    </p>

    <h3>Main Model</h3>
    <table class="wtpTable">
      <thead>
        <tr>
          <th>Attribute</th>
          <th>Coefficient</th>
          <th>p-value</th>
          <th>Significance</th>
          <th>WTP (AUD)</th>
        </tr>
      </thead>
      <tbody id="wtpBodyMain"></tbody>
    </table>

    <h3>Not Lonely</h3>
    <table class="wtpTable">
      <thead>
        <tr>
          <th>Attribute</th>
          <th>Coefficient</th>
          <th>p-value</th>
          <th>Significance</th>
          <th>WTP (AUD)</th>
        </tr>
      </thead>
      <tbody id="wtpBodyNotLonely"></tbody>
    </table>

    <h3>Moderately Lonely</h3>
    <table class="wtpTable">
      <thead>
        <tr>
          <th>Attribute</th>
          <th>Coefficient</th>
          <th>p-value</th>
          <th>Significance</th>
          <th>WTP (AUD)</th>
        </tr>
      </thead>
      <tbody id="wtpBodyModLonely"></tbody>
    </table>

    <h3>Severely Lonely</h3>
    <table class="wtpTable">
      <thead>
        <tr>
          <th>Attribute</th>
          <th>Coefficient</th>
          <th>p-value</th>
          <th>Significance</th>
          <th>WTP (AUD)</th>
        </tr>
      </thead>
      <tbody id="wtpBodySevLonely"></tbody>
    </table>

    <p>
      Significance levels: * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001
    </p>
  </div>

  <!-- Costs & Benefits Tab -->
  <div id="costsTab" class="tabcontent">
    <h2>Cost Components & Benefits</h2>
    <p>
      Cost components considered in our model:
    </p>
    <ul>
      <li>Staff/Personnel Costs</li>
      <li>Facilities & Equipment</li>
      <li>Marketing & Outreach</li>
      <li>Training & Certification</li>
      <li>Miscellaneous Operational Expenses</li>
      <li>Cost-of-Living Adjustments (by state)</li>
    </ul>
    <p>
      Benefits are assigned by attributing a monetary value to each percentage 
      increase in uptake—for instance, 10,000 AUD per 1% improvement. Adjust 
      these assumptions to reflect real-world data and validated economic 
      analyses.
    </p>
  </div>

  <!-- Scenarios Tab -->
  <div id="scenariosTab" class="tabcontent">
    <h2>Saved Scenarios</h2>
    <p>
      Save your current scenario from the <strong>Inputs</strong> tab, then compare 
      multiple scenarios with charts and optional PDF exports.
    </p>
    <div class="buttons-row">
      <button onclick="saveScenario()">Save Current Scenario</button>
      <button onclick="openComparison()">Compare All Scenarios</button>
    </div>
    <table id="scenarioTable">
      <thead>
        <tr>
          <th>Name</th>
          <th>State</th>
          <th>Cost Adjust?</th>
          <th>Cost (AUD)</th>
          <th>Local?</th>
          <th>Wider?</th>
          <th>Weekly?</th>
          <th>Monthly?</th>
          <th>Virtual?</th>
          <th>Hybrid?</th>
          <th>2H?</th>
          <th>4H?</th>
          <th>Comm?</th>
          <th>Psych?</th>
          <th>VR?</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <footer>
    <p>&copy; 2025 LonelyLessAustralia. All Rights Reserved. <br/>
       Author: Mesfin Genie, Newcastle Business School, The University of Newcastle, Australia
    </p>
  </footer>
</div>

<!-- Reference our main script -->
<script src="script.js"></script>
</body>
</html>
