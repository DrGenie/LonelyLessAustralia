<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>LonelyLessAustralia Decision Aid Tool</title>
  <link rel="stylesheet" href="styles.css" />
  <!-- Chart.js for in-page charts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- jsPDF for PDF generation -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
<div class="container">
  <header>
    <h1>LonelyLessAustralia Decision Aid Tool</h1>
  </header>

  <!-- TAB BUTTONS -->
  <div class="tabs">
    <button class="tablink active" onclick="openTab('introTab', this)">Introduction</button>
    <button class="tablink" onclick="openTab('attributesTab', this)">Attributes</button>
    <button class="tablink" onclick="openTab('inputsTab', this)">Inputs</button>
    <button class="tablink" onclick="openTab('wtpTab', this)">WTP Results</button>
    <button class="tablink" onclick="openTab('costsTab', this)">Costs & Benefits</button>
    <button class="tablink" onclick="openTab('scenariosTab', this)">Scenarios</button>
  </div>

  <!-- TAB CONTENT: INTRODUCTION -->
  <div id="introTab" class="tabcontent">
    <div class="intro-box">
      <p>
        Loneliness affects over five million Australians, especially older adults, leading 
        to significant health and economic challenges. This online decision aid tool was 
        developed from a discrete choice experiment that identified older adults’ preferences 
        for various support programmes designed to reduce loneliness in Australia. Utilising 
        these insights and estimates, the tool predicts the probability of uptake for different 
        programme packages, enabling personalised support based on factors older adults consider 
        when seeking services.
      </p>
      <p>
        The loneliness categories used in this study were derived from the widely validated 
        <em>De Jong Gierveld Loneliness Scale</em> (11-item version), which measures both 
        emotional and social loneliness. A total loneliness score was calculated as the sum 
        of emotional and social loneliness scores, reflecting an individual’s overall level 
        of loneliness. Following the established methodology of the scale, the total score 
        was then categorised into three distinct levels—Not Lonely, Moderately Lonely, and 
        Severely Lonely—to allow meaningful comparisons based on loneliness severity.
      </p>
      <p>
        Please use the tabs above to explore the attributes, inputs, WTP results, cost-benefit 
        details, and scenario-saving or comparison features.
      </p>
    </div>
  </div>

  <!-- TAB CONTENT: ATTRIBUTES -->
  <div id="attributesTab" class="tabcontent">
    <h2>Programme Attributes</h2>
    <p>
      <strong>Cost:</strong> The out-of-pocket cost participants will incur each time they 
      participate in the support programme.
    </p>
    <p>
      <strong>Accessibility:</strong> The ease of accessing the programme, considering 
      physical mobility and transportation (Local Area = up to 12 km, Wider Community = 50+ km).
    </p>
    <p>
      <strong>Frequency of Interaction:</strong> How often individuals will participate in 
      the programme (Daily as the reference category, with Weekly or Monthly as alternatives).
    </p>
    <p>
      <strong>Method of Interaction:</strong> How individuals prefer to connect (In-person 
      as the reference, or Virtual Only, or Hybrid).
    </p>
    <p>
      <strong>Duration of Each Interaction:</strong> The length of each session (30 minutes 
      as reference, 2 hours, or 4 hours).
    </p>
    <p>
      <strong>Type of Support Programme:</strong> The nature of activities or connection 
      offered (Peer Support as reference, or Community Engagement, Psychological Counselling, 
      Virtual Reality).
    </p>
  </div>

  <!-- TAB CONTENT: INPUTS -->
  <div id="inputsTab" class="tabcontent">
    <h2>Programme Inputs</h2>
    <p>
      Select attributes below, then click “Calculate & View Results” to see predictions and 
      cost-benefit analyses in a separate window.
    </p>

    <form id="inputsForm" onsubmit="event.preventDefault();">
      <div class="form-grid">
        <!-- State & Cost-of-Living -->
        <div class="form-item">
          <label for="state_select">State:</label>
          <select id="state_select">
            <option value="">None</option>
            <option value="NSW">New South Wales (NSW)</option>
            <option value="VIC">Victoria (VIC)</option>
            <option value="QLD">Queensland (QLD)</option>
            <option value="WA">Western Australia (WA)</option>
            <option value="SA">South Australia (SA)</option>
            <option value="TAS">Tasmania (TAS)</option>
            <option value="ACT">Australian Capital Territory (ACT)</option>
            <option value="NT">Northern Territory (NT)</option>
          </select>
          <br/>
          <label for="adjustCosts">Adjust for Cost of Living?</label>
          <select id="adjustCosts">
            <option value="no">No</option>
            <option value="yes">Yes</option>
          </select>
        </div>

        <!-- Cost Slider -->
        <div class="form-item">
          <label for="costSlider">Cost per Session (AUD): <span id="costLabel">50</span></label>
          <input 
            type="range" 
            id="costSlider" 
            min="0" max="100" 
            step="1" value="50" 
            oninput="updateCostDisplay(this.value)" 
          />
        </div>

        <!-- Accessibility -->
        <div class="form-item">
          <label><input type="checkbox" id="localCheck" />Local Area (12 km)</label>
          <br/>
          <label><input type="checkbox" id="widerCheck" />Wider Community (50+ km)</label>
        </div>

        <!-- Frequency -->
        <div class="form-item">
          <label><input type="checkbox" id="weeklyCheck" />Weekly</label>
          <br/>
          <label><input type="checkbox" id="monthlyCheck" />Monthly</label>
        </div>

        <!-- Method -->
        <div class="form-item">
          <label><input type="checkbox" id="virtualCheck" />Virtual Only</label>
          <br/>
          <label><input type="checkbox" id="hybridCheck" />Hybrid (In-person & Virtual)</label>
        </div>

        <!-- Duration -->
        <div class="form-item">
          <label><input type="checkbox" id="twoHCheck" />2-Hour Session</label>
          <br/>
          <label><input type="checkbox" id="fourHCheck" />4-Hour Session</label>
        </div>

        <!-- Programme Type -->
        <div class="form-item">
          <label><input type="checkbox" id="commCheck" />Community Engagement</label>
          <br/>
          <label><input type="checkbox" id="psychCheck" />Psychological Counselling</label>
          <br/>
          <label><input type="checkbox" id="vrCheck" />Virtual Reality</label>
        </div>
      </div>

      <div class="buttons-row">
        <button type="button" onclick="openSingleScenario()">Calculate & View Results</button>
      </div>
    </form>
  </div>

  <!-- TAB CONTENT: WTP RESULTS -->
  <div id="wtpTab" class="tabcontent">
    <h2>Willingness to Pay (WTP) Results</h2>
    <p>
      WTP measures how much participants would pay for a given attribute. Below are the WTP 
      estimates for the <strong>Main Model</strong>, followed by WTP for <strong>Not Lonely</strong>, 
      <strong>Moderately Lonely</strong>, and <strong>Severely Lonely</strong> categories.
    </p>

    <!-- Main Model WTP -->
    <h3>Main Model WTP (A$)</h3>
    <table class="wtpTable">
      <thead>
        <tr>
          <th>Attribute</th>
          <th>WTP (A$)</th>
          <th>Std. Error</th>
          <th>p-value</th>
        </tr>
      </thead>
      <tbody id="wtpBodyMain"></tbody>
    </table>

    <!-- Not Lonely -->
    <h3>Not Lonely WTP (A$)</h3>
    <table class="wtpTable">
      <thead>
        <tr>
          <th>Attribute</th>
          <th>WTP (A$)</th>
          <th>Std. Error</th>
          <th>p-value</th>
        </tr>
      </thead>
      <tbody id="wtpBodyNotLonely"></tbody>
    </table>

    <!-- Moderately Lonely -->
    <h3>Moderately Lonely WTP (A$)</h3>
    <table class="wtpTable">
      <thead>
        <tr>
          <th>Attribute</th>
          <th>WTP (A$)</th>
          <th>Std. Error</th>
          <th>p-value</th>
        </tr>
      </thead>
      <tbody id="wtpBodyModLonely"></tbody>
    </table>

    <!-- Severely Lonely -->
    <h3>Severely Lonely WTP (A$)</h3>
    <table class="wtpTable">
      <thead>
        <tr>
          <th>Attribute</th>
          <th>WTP (A$)</th>
          <th>Std. Error</th>
          <th>p-value</th>
        </tr>
      </thead>
      <tbody id="wtpBodySevLonely"></tbody>
    </table>
  </div>

  <!-- TAB CONTENT: COSTS & BENEFITS -->
  <div id="costsTab" class="tabcontent">
    <h2>Cost Components & Benefits</h2>
    <p>
      The total programme cost might involve:
    </p>
    <ul>
      <li>Staff or Personnel Costs</li>
      <li>Facility or Equipment Costs</li>
      <li>Marketing or Outreach</li>
      <li>Training and Certification</li>
      <li>Miscellaneous Operational Expenses</li>
      <li>Cost-of-Living Adjustments by State</li>
    </ul>
    <p>
      Benefits are assigned by valuing each 1% increase in uptake at a certain monetary figure. 
      For instance, 1% uptake could be valued at 10,000 AUD, reflecting healthcare savings and 
      well-being improvements. These figures are illustrative and should be adjusted to 
      real-world data if available.
    </p>
  </div>

  <!-- TAB CONTENT: SCENARIOS -->
  <div id="scenariosTab" class="tabcontent">
    <h2>Saved Scenarios</h2>
    <p>
      Once you have set attributes in <strong>Inputs</strong> and opened the results, 
      you can save them here. You can then compare multiple scenarios, generating 
      advanced PDFs with cost-benefit charts.
    </p>
    <div class="buttons-row">
      <button onclick="saveScenario()">Save Current Scenario</button>
      <button onclick="openComparison()">Compare All Scenarios</button>
    </div>
    <table id="scenarioTable">
      <thead>
        <tr>
          <th>Name</th>
          <th>State</th>
          <th>Cost Adjust?</th>
          <th>Cost (AUD)</th>
          <th>Local?</th>
          <th>Wider?</th>
          <th>Weekly?</th>
          <th>Monthly?</th>
          <th>Virtual?</th>
          <th>Hybrid?</th>
          <th>2H?</th>
          <th>4H?</th>
          <th>Comm?</th>
          <th>Psych?</th>
          <th>VR?</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <footer>
    <p>&copy; 2025 LonelyLessAustralia. All Rights Reserved.</p>
  </footer>
</div>
<script src="script.js"></script>
</body>
</html>
